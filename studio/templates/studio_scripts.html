<script type="text/javascript">

/////////////////////////////////////////////////////////////////////////////////////////
// SIDEBAR SECTION
/////////////////////////////////////////////////////////////////////////////////////////

$( "#sidebar-wrapper" ).hover(
        function(){
              $("#menu-toggle").css("color","#808080");
        },
        function(){
              $("#wrapper").addClass("toggled");
              $("#menu-toggle").css("color","#00d8ff");
        }
    );

/////////////////////////////////////////////////////////////////////////////////////////
// SERVICES SECTION
/////////////////////////////////////////////////////////////////////////////////////////

var services_cat = ["android","rtr","cloud","consulting"];

var current_services = "";

function get_image_tag() {
    return "<img class='img-responsive center-block' src='static/img/arrow.png' alt='Selection arrow' style='width: 256; height: 64px;'>";
}

function get_services_tag(category_name) {
    return "#" + category_name + "_tag";
}

function get_services_content(category_name) {
    return "#" + category_name + "_content";
}

function get_services_button(category_name) {
    return "#" + category_name + "_btn";
}

function set_current_service(category) {
    current_services = category;
}

function clear_arrow() {
    //$(".arrow").css("display",none);
    for(i = 0 ; i < services_cat.length ; i++) {
        var selector =  get_services_tag(services_cat[i]);
        $(selector).empty();
    }
}

function show_arrow(category) {
     clear_arrow();
     var selector =  get_services_tag(category);
     $(selector).append(get_image_tag());
}

function set_content(category_name) {
    var content = get_services_content(category_name);
    var html_content = $(content).html();
    $("#services_content").html(html_content);
    current_services = category_name;
}

function is_content_hidden() {
    return $("#services_content").hasClass("hidden_token");
}

function hide_content() {
    $("#btn_close_services").addClass("hidden_token");
    $("#services_content").slideUp( function() {
            $("#services_content").addClass("hidden_token")
            clear_arrow();
            open_first_parallax();
            scroll_services();
        }
    );
    current_services = "";
}

function show_content(category_name) {
    show_arrow(category_name);
    set_content(category_name);

    $("#services_content").slideDown( function() {
            $("#services_content").removeClass("hidden_token");
            $("#btn_close_services").removeClass("hidden_token");
        }
    );
}

function toogle_content(category_name) {
    if( is_content_hidden() ) {
        show_content(category_name);
    } else {
        if( current_services == category_name ) {
            hide_content();
        } else {
            show_arrow(category_name);
            set_content(category_name);
        }
    }
}


function open_first_parallax() {
    $(".first_parallax").slideDown(
        function() {
            $(".first_parallax").removeClass("hidden_token");
            init_parallax();
        }
    );
}

function close_first_parallax(callback,params) {

    scroll_services();

    $(".first_parallax").slideUp(function() {
                $(".first_parallax").addClass("hidden_token")
                callback(params);
            }
    );
}


function scroll_services() {
    var pos = $("#android_btn").offset().top - 2 * $(".navbar-iGLou .container").height();
    $('body, html').animate({scrollTop:pos}, 500);
}


$("#btn_close_services").click(
    function() {
        hide_content();
    }
);


function toggle_button(category) {
    var button = $(get_services_button(category));
    if(current_services == category) {
        button.attr('src','static/img/icon_' + category + '_pushed.png');
    }else {
        button.attr('src','static/img/icon_' + category + '.png');
    }

}

$("#android_btn").click(
    function(){
        set_current_service("android"),
        close_first_parallax(toogle_content,"android");
        setTimeout(function(){ toggle_button("android"); }, 500);
    }
);

$("#rtr_btn").click(
    function(){
        set_current_service("rtr"),
        close_first_parallax(toogle_content,"rtr");
        setTimeout(function(){ toggle_button("rtr"); }, 500);
    }
);

$("#cloud_btn").click(
    function(){
        close_first_parallax(toogle_content,"cloud");
        toggle_button("cloud");
        //toogle_content("cloud");
    }
);

$("#consulting_btn").click(
    function(){
        close_first_parallax(toogle_content,"consulting");
        toggle_button("consulting");
        //toogle_content("consulting");
    }
);


function onButtonHover(category, handlerin) {
    var button = $(get_services_button(category));
    if(current_services != category && handlerin) {
        button.attr('src','static/img/icon_' + category + '_over.png');
    }
    if(current_services != category && !handlerin) {
        button.attr('src','static/img/icon_' + category + '.png');
    }
}


$("#android_btn").hover(
    function(){ onButtonHover("android",true); },
    function(){ onButtonHover("android",false); }
);

$("#rtr_btn").hover(
    function(){ onButtonHover("rtr",true); },
    function(){ onButtonHover("rtr",false); }
);

$("#cloud_btn").hover(
    function(){ onButtonHover("cloud",true); },
    function(){ onButtonHover("cloud",false); }
);

$("#consulting_btn").hover(
    function(){ onButtonHover("consulting",true); },
    function(){ onButtonHover("consulting",false); }
);

</script>































